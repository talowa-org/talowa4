// Role Badge Widget - Display user roles with appropriate styling\n// Part of Task 6: Implement PostWidget for individual posts\n\nimport 'package:flutter/material.dart';\nimport '../../core/theme/app_theme.dart';\n\nenum RoleBadgeSize {\n  small,\n  medium,\n  large,\n}\n\nclass RoleBadgeWidget extends StatelessWidget {\n  final String role;\n  final RoleBadgeSize size;\n  final bool showIcon;\n  final EdgeInsets? padding;\n\n  const RoleBadgeWidget({\n    super.key,\n    required this.role,\n    this.size = RoleBadgeSize.medium,\n    this.showIcon = true,\n    this.padding,\n  });\n\n  @override\n  Widget build(BuildContext context) {\n    final roleInfo = _getRoleInfo(role);\n    final sizeInfo = _getSizeInfo(size);\n    \n    return Container(\n      padding: padding ?? EdgeInsets.symmetric(\n        horizontal: sizeInfo.horizontalPadding,\n        vertical: sizeInfo.verticalPadding,\n      ),\n      decoration: BoxDecoration(\n        color: roleInfo.backgroundColor,\n        borderRadius: BorderRadius.circular(sizeInfo.borderRadius),\n        border: Border.all(\n          color: roleInfo.borderColor,\n          width: 1,\n        ),\n      ),\n      child: Row(\n        mainAxisSize: MainAxisSize.min,\n        children: [\n          if (showIcon && roleInfo.icon != null) ...[\n            Icon(\n              roleInfo.icon,\n              size: sizeInfo.iconSize,\n              color: roleInfo.textColor,\n            ),\n            SizedBox(width: sizeInfo.spacing),\n          ],\n          Text(\n            roleInfo.displayName,\n            style: TextStyle(\n              fontSize: sizeInfo.fontSize,\n              fontWeight: FontWeight.w600,\n              color: roleInfo.textColor,\n            ),\n          ),\n        ],\n      ),\n    );\n  }\n\n  _RoleInfo _getRoleInfo(String role) {\n    switch (role.toLowerCase()) {\n      case 'founder':\n      case 'admin':\n        return _RoleInfo(\n          displayName: 'Founder',\n          icon: Icons.star,\n          backgroundColor: Colors.purple.withOpacity(0.1),\n          borderColor: Colors.purple,\n          textColor: Colors.purple,\n        );\n      \n      case 'state_coordinator':\n      case 'state coordinator':\n        return _RoleInfo(\n          displayName: 'State Coordinator',\n          icon: Icons.account_tree,\n          backgroundColor: AppTheme.talowaGreen.withOpacity(0.1),\n          borderColor: AppTheme.talowaGreen,\n          textColor: AppTheme.talowaGreen,\n        );\n      \n      case 'district_coordinator':\n      case 'district coordinator':\n        return _RoleInfo(\n          displayName: 'District Coordinator',\n          icon: Icons.location_city,\n          backgroundColor: Colors.blue.withOpacity(0.1),\n          borderColor: Colors.blue,\n          textColor: Colors.blue,\n        );\n      \n      case 'mandal_coordinator':\n      case 'mandal coordinator':\n        return _RoleInfo(\n          displayName: 'Mandal Coordinator',\n          icon: Icons.group_work,\n          backgroundColor: Colors.orange.withOpacity(0.1),\n          borderColor: Colors.orange,\n          textColor: Colors.orange,\n        );\n      \n      case 'village_coordinator':\n      case 'village coordinator':\n        return _RoleInfo(\n          displayName: 'Village Coordinator',\n          icon: Icons.home,\n          backgroundColor: Colors.green.withOpacity(0.1),\n          borderColor: Colors.green,\n          textColor: Colors.green,\n        );\n      \n      case 'coordinator':\n        return _RoleInfo(\n          displayName: 'Coordinator',\n          icon: Icons.supervisor_account,\n          backgroundColor: AppTheme.talowaGreen.withOpacity(0.1),\n          borderColor: AppTheme.talowaGreen,\n          textColor: AppTheme.talowaGreen,\n        );\n      \n      case 'verified':\n      case 'verified_member':\n        return _RoleInfo(\n          displayName: 'Verified',\n          icon: Icons.verified,\n          backgroundColor: Colors.blue.withOpacity(0.1),\n          borderColor: Colors.blue,\n          textColor: Colors.blue,\n        );\n      \n      case 'member':\n      default:\n        return _RoleInfo(\n          displayName: 'Member',\n          icon: Icons.person,\n          backgroundColor: Colors.grey.withOpacity(0.1),\n          borderColor: Colors.grey,\n          textColor: Colors.grey[700]!,\n        );\n    }\n  }\n\n  _SizeInfo _getSizeInfo(RoleBadgeSize size) {\n    switch (size) {\n      case RoleBadgeSize.small:\n        return _SizeInfo(\n          fontSize: 10,\n          iconSize: 12,\n          horizontalPadding: 6,\n          verticalPadding: 2,\n          borderRadius: 8,\n          spacing: 2,\n        );\n      \n      case RoleBadgeSize.medium:\n        return _SizeInfo(\n          fontSize: 12,\n          iconSize: 14,\n          horizontalPadding: 8,\n          verticalPadding: 4,\n          borderRadius: 10,\n          spacing: 4,\n        );\n      \n      case RoleBadgeSize.large:\n        return _SizeInfo(\n          fontSize: 14,\n          iconSize: 16,\n          horizontalPadding: 12,\n          verticalPadding: 6,\n          borderRadius: 12,\n          spacing: 6,\n        );\n    }\n  }\n}\n\nclass _RoleInfo {\n  final String displayName;\n  final IconData? icon;\n  final Color backgroundColor;\n  final Color borderColor;\n  final Color textColor;\n\n  const _RoleInfo({\n    required this.displayName,\n    this.icon,\n    required this.backgroundColor,\n    required this.borderColor,\n    required this.textColor,\n  });\n}\n\nclass _SizeInfo {\n  final double fontSize;\n  final double iconSize;\n  final double horizontalPadding;\n  final double verticalPadding;\n  final double borderRadius;\n  final double spacing;\n\n  const _SizeInfo({\n    required this.fontSize,\n    required this.iconSize,\n    required this.horizontalPadding,\n    required this.verticalPadding,\n    required this.borderRadius,\n    required this.spacing,\n  });\n}\n\n// Multiple role badges widget\nclass MultipleRoleBadgesWidget extends StatelessWidget {\n  final List<String> roles;\n  final RoleBadgeSize size;\n  final int maxVisible;\n  final bool showIcon;\n  final double spacing;\n\n  const MultipleRoleBadgesWidget({\n    super.key,\n    required this.roles,\n    this.size = RoleBadgeSize.small,\n    this.maxVisible = 2,\n    this.showIcon = false,\n    this.spacing = 4,\n  });\n\n  @override\n  Widget build(BuildContext context) {\n    if (roles.isEmpty) return const SizedBox.shrink();\n    \n    final visibleRoles = roles.take(maxVisible).toList();\n    final remainingCount = roles.length - maxVisible;\n    \n    return Wrap(\n      spacing: spacing,\n      runSpacing: spacing,\n      children: [\n        ...visibleRoles.map((role) => RoleBadgeWidget(\n          role: role,\n          size: size,\n          showIcon: showIcon,\n        )),\n        \n        if (remainingCount > 0)\n          Container(\n            padding: EdgeInsets.symmetric(\n              horizontal: size == RoleBadgeSize.small ? 6 : 8,\n              vertical: size == RoleBadgeSize.small ? 2 : 4,\n            ),\n            decoration: BoxDecoration(\n              color: Colors.grey.withOpacity(0.1),\n              borderRadius: BorderRadius.circular(\n                size == RoleBadgeSize.small ? 8 : 10,\n              ),\n              border: Border.all(\n                color: Colors.grey,\n                width: 1,\n              ),\n            ),\n            child: Text(\n              '+$remainingCount',\n              style: TextStyle(\n                fontSize: size == RoleBadgeSize.small ? 10 : 12,\n                fontWeight: FontWeight.w600,\n                color: Colors.grey[700],\n              ),\n            ),\n          ),\n      ],\n    );\n  }\n}\n\n// Role hierarchy indicator\nclass RoleHierarchyWidget extends StatelessWidget {\n  final String role;\n  final int level; // 1-5, where 1 is highest (founder) and 5 is lowest (member)\n  final bool showLevel;\n\n  const RoleHierarchyWidget({\n    super.key,\n    required this.role,\n    required this.level,\n    this.showLevel = false,\n  });\n\n  @override\n  Widget build(BuildContext context) {\n    return Row(\n      mainAxisSize: MainAxisSize.min,\n      children: [\n        RoleBadgeWidget(\n          role: role,\n          size: RoleBadgeSize.small,\n        ),\n        \n        if (showLevel) ...[\n          const SizedBox(width: 4),\n          Container(\n            width: 20,\n            height: 20,\n            decoration: BoxDecoration(\n              color: _getLevelColor(),\n              shape: BoxShape.circle,\n            ),\n            child: Center(\n              child: Text(\n                level.toString(),\n                style: const TextStyle(\n                  fontSize: 10,\n                  fontWeight: FontWeight.bold,\n                  color: Colors.white,\n                ),\n              ),\n            ),\n          ),\n        ],\n      ],\n    );\n  }\n\n  Color _getLevelColor() {\n    switch (level) {\n      case 1:\n        return Colors.purple; // Founder\n      case 2:\n        return AppTheme.talowaGreen; // State Coordinator\n      case 3:\n        return Colors.blue; // District Coordinator\n      case 4:\n        return Colors.orange; // Mandal Coordinator\n      case 5:\n      default:\n        return Colors.green; // Village Coordinator / Member\n    }\n  }\n}"

